{"ast":null,"code":"import _toConsumableArray from\"C:/Users/yibia/git/todoli/todoli/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/yibia/git/todoli/todoli/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import ListContentDisplay from\"./ListContentDisplay\";import{Outlet,useNavigate}from\"react-router-dom\";import'./ListContent.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ContentService(props){var _useState=useState(JSON.parse(window.localStorage.getItem(props.category))),_useState2=_slicedToArray(_useState,2),stuffInCategoryArray=_useState2[0],setStuff=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userInput=_useState4[0],setInput=_useState4[1];var handleInputChange=function handleInputChange(e){setInput(e.target.value);};var navigate=useNavigate();var handleAddTask=function handleAddTask(){if(userInput===\"\"){alert(\"Please do not add empty task\");}else{setStuff([].concat(_toConsumableArray(stuffInCategoryArray),[userInput]));}};useEffect(function(){setStuff(JSON.parse(window.localStorage.getItem(props.category)));},[props.category]);useEffect(function(){window.localStorage.setItem(props.category,JSON.stringify(stuffInCategoryArray));},[stuffInCategoryArray,props.category]);var handleEditParent=function handleEditParent(){var indexToChange=stuffInCategoryArray.indexOf(arguments.length<=0?undefined:arguments[0]);var task=arguments.length<=1?undefined:arguments[1];if(task===\"\"){alert(\"Please do not enter empty task\");}else{if(indexToChange!==-1){stuffInCategoryArray[indexToChange]=task;}setStuff(_toConsumableArray(stuffInCategoryArray));//navigate - 1 is to get rid of the edit,but also update the task\nnavigate(-1);}};var handleDeleteParent=function handleDeleteParent(e){var filterArray=stuffInCategoryArray.filter(function(stuff){return stuff!==e.target.value;});setStuff(_toConsumableArray(filterArray));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow p-3 mb-5 bg-body rounded mx-auto\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Enter Task here\",\"aria-label\":\"Task\",\"aria-describedby\":\"basic-addon1\",maxLength:\"60\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success ms-2\",onClick:handleAddTask,children:\"Add Task\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"pad\",children:/*#__PURE__*/_jsx(Outlet,{context:handleEditParent})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(ListContentDisplay,{arr:stuffInCategoryArray,delete:handleDeleteParent})})]})]});}export default ContentService;","map":{"version":3,"names":["React","useState","useEffect","ListContentDisplay","Outlet","useNavigate","ContentService","props","JSON","parse","window","localStorage","getItem","category","stuffInCategoryArray","setStuff","userInput","setInput","handleInputChange","e","target","value","navigate","handleAddTask","alert","setItem","stringify","handleEditParent","indexToChange","indexOf","task","handleDeleteParent","filterArray","filter","stuff"],"sources":["C:/Users/yibia/git/todoli/todoli/src/component/ListContent/listContentService.js"],"sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport ListContentDisplay from \"./ListContentDisplay\";\r\nimport { Outlet, useNavigate } from \"react-router-dom\";\r\nimport './ListContent.css';\r\n\r\n\r\nfunction ContentService (props){\r\n    const [stuffInCategoryArray,setStuff] = useState(JSON.parse(window.localStorage.getItem(props.category)));\r\n    const [userInput, setInput] = useState(\"\");\r\n\r\n    const handleInputChange = (e)=>{\r\n        setInput(e.target.value);\r\n    }\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleAddTask = () =>{\r\n        if(userInput===\"\"){\r\n            alert(\"Please do not add empty task\");\r\n        }\r\n        else{\r\n            setStuff([...stuffInCategoryArray,userInput]);\r\n        }\r\n    }\r\n\r\n    useEffect(\r\n        ()=>{setStuff(JSON.parse(window.localStorage.getItem(props.category)))} ,[props.category]\r\n    );\r\n\r\n    useEffect(\r\n        ()=>{window.localStorage.setItem(props.category,JSON.stringify(stuffInCategoryArray))} ,[stuffInCategoryArray,props.category]\r\n    );\r\n\r\n    const handleEditParent = (...params) =>{\r\n       let indexToChange = stuffInCategoryArray.indexOf(params[0]);\r\n       let task = params[1];\r\n       if(task===\"\"){\r\n        alert(\"Please do not enter empty task\");\r\n       }\r\n       else{\r\n        if(indexToChange!== -1){\r\n            stuffInCategoryArray[indexToChange] = task;\r\n           }\r\n           setStuff([...stuffInCategoryArray]);\r\n           //navigate - 1 is to get rid of the edit,but also update the task\r\n           navigate(-1);\r\n       }\r\n    }\r\n\r\n    const handleDeleteParent = (e) =>{\r\n        let filterArray = stuffInCategoryArray.filter(\r\n                function(stuff) {return stuff !== e.target.value}\r\n        );\r\n        setStuff([...filterArray]);\r\n    }\r\n\r\n        return (\r\n            <div>\r\n                <br></br>\r\n                <div className=\"card shadow p-3 mb-5 bg-body rounded mx-auto\">\r\n                <h5 className=\"card-header\">\r\n                    <div className=\"input-group mb-3\">\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Enter Task here\"\r\n                     aria-label=\"Task\" aria-describedby=\"basic-addon1\" maxLength=\"60\"\r\n                     onChange={handleInputChange}></input>\r\n                    <span><button type=\"button\" className=\"btn btn-success ms-2\" onClick={handleAddTask}>Add Task</button></span>\r\n                    </div>\r\n                </h5>\r\n                <div className=\"pad\">\r\n                    <Outlet context={handleEditParent}></Outlet>\r\n                </div>\r\n                    <div className=\"card-body\">\r\n                        <ListContentDisplay arr = {stuffInCategoryArray} \r\n                          delete = {handleDeleteParent} ></ListContentDisplay>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n}\r\n\r\nexport default ContentService;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}